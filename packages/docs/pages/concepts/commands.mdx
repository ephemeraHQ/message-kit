# Commands

Each app can have a `commands.ts` file that contains the commands that the app can execute. The commands are defined as an array of objects with the following keys:

## Example command

First think of which command you want the app to respond to. For example

```bash [cmd]
/send [amount] [token] [@username]
```

## Create commands

Create the command file `commands.ts` in your project root `src` folder.

```json [src/commands.ts]
export const commands = [
  {
    "name": "BaseFrame",
    "icon": "ðŸ–¼ï¸",
    "description": "Multipurpose transaction frame.",
    "commands": [
      {
        "command": "/send [amount] [token] [@username]",
        "description": "Send a specified amount of a cryptocurrency to a destination address.",
        "params": {
          "amount": { // Amount field has special treatment
            "default": 10, // Default value
            "type": "number" // This will parse it to a number
          },
          "token": { // Arbitrary name
            "default": "usdc", // Default value
            "type": "string", // String field always need to specify accepted values
            "values": ["eth", "dai", "usdc", "degen"] // Accepted values
          },
          "username": {
            "default": "", // No default username
            "type": "username" // This will parse it to a usernamearray
          }
        }
      }
    ]
  }
]
```

## Declare commands

To declare the access command in the app, you need to add the following code:

```tsx
import { commands } from "./commands.js";

const appConfig = {
  context: {
    commands: commands,
  },
};

run(async (context: HandlerContext) => {
  //Your logic here
}, appConfig);
```

## User sends command

Finally, the user sends the command to the app.

```bash [cmd]
/send 10 usdc @bob
```

## Extract parameters

The helper function will extract the parameters from the command. See more details in the [command](/concepts/content-types/command) type.

```json [params]
{
  "command": "send",
  "params": { "amount": 10, "token": "usdc", "username": ["bob"] }
}
```

_Note: The [helper](https://github.com/xmtp-labs/message-kit/blob/main/packages/message-kit/src/lib/helper.ts) function has limitations in parameter extraction. This method is just one way to do it. We could consider AI-driven methods that are more adaptable for various command types. Within this repository, the following is an example of such a parser._
