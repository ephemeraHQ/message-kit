# CDP Wallet Service

The `WalletService` class in MessageKit provides a way to create agent wallets that can perform gasless payments and transfers on Base.

## Requirements

Visit the [Coinbase Developer Portal](https://developer.coinbase.com/) to create an API key.

- `@coinbase/coinbase-sdk`: Already included in MessageKit
- `@coinbase/cbpay-js`: Already included in MessageKit

- Environment variables:
  - `COINBASE_APP_ID`: The Coinbase app id
  - `COINBASE_API_KEY_NAME`: The Coinbase API key name
  - `COINBASE_API_KEY_PRIVATE_KEY`: The Coinbase API private key

## Security Architecture

The WalletService uses encryption with local file storage:

- Wallets are encrypted using the private key of the developer

## Code

```tsx [plugins/cdp.ts]
// [!include ~/../../packages/message-kit/src/plugins/cdp.ts]
```
