# Cirle Wallet Service

The `WalletService` class in MessageKit provides a way to create agent wallets that can perform gasless payments and transfers on Base.

## Requirements

Visit the [Circle Developer Portal](https://developer.circle.com/) to create an API key and entity secret.

- `@circle-fin/developer-controlled-wallets`: Already included in MessageKit
- Environment variables:
  - `CIRCLE_API_KEY`= # Circle API Key
  - `CIRCLE_ENTITY_SECRET`= # Circle Entity Secret
  - `CIRCLE_WALLET_SET_ID`= # Circle Wallet Set ID

## Wallet Management

The `getWallet` method will retrieve an existing wallet or create a new one if it doesn't exist:

```tsx
// Get the wallet service
const { walletService } = context;

// Get or create a wallet
const wallet = await walletService.getWallet(humanAddress);

// Explicitly create a new wallet
const isCreated = await walletService.createWallet(humanAddress);

// Delete a wallet
await walletService.deleteWallet(humanAddress);
```

## Actions

Perform actions on the Agent Wallet like transfers and swaps or checking the balance.

```tsx
// Get the wallet service
const { walletService } = context;

// Check balance
const { address, balance } = await walletService.checkBalance(humanAddress);

// Withdraw funds (optional amount parameter)
await walletService.fund(amount);

// Transfer between wallets
await walletService.transfer(humanAddress, humanAddress, amount);

// Swap assets (USDC and ETH)
await walletService.swap(humanAddress, fromAssetId, toAssetId, amount);

// Withdraw funds (optional amount parameter)
await walletService.withdraw(amount);
```
